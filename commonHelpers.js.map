{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport './css/styles.css';\nconst API_KEY = '41917530-74216f8e6af2c90f64ec8c0b5';\nconst URL = \"https://pixabay.com/api/\";\nconst formEl = document.querySelector(\".form-inline\");\nconst containerEl = document.querySelector(\".card-container\");\nformEl.addEventListener(\"submit\", handleSearch);\nfunction showLoadingIndicator() {\n    containerEl.innerHTML = '<div class=\"loader\"></div>';\n}\nfunction hideLoadingIndicator() {\n    const loadingElement = containerEl.querySelector('.loader');\n    if (loadingElement) {\n        loadingElement.remove();\n    }\n}\nfunction handleSearch(event) {\n    event.preventDefault();\n    const form = event.currentTarget;\n    const picture = form.elements.picture.value.trim();\n    if (picture === \"\" || picture == null) {\n        iziToast.error({\n            title: \"Error\",\n            message: `❌Sorry, there are no images matching your search query. Please, try again!`,\n        })\n        containerEl.innerHTML = \"\";\n        return;\n    }\n    showLoadingIndicator()\n    serchPicture(picture)\n        .then((data) => {\n            if (data.hits && data.hits.length > 0) {\n                const hits = data.hits;\n\n                let markup = \"\";\n                for (const hit of hits) {\n                    markup += createPictureMarkup(hit);\n                }\n                containerEl.innerHTML = markup;\n                const lightbox = new SimpleLightbox('.card-container a', {\n                    captionsData: 'alt',\n                    captionPosition: 'bottom',\n                    captionDelay: 250,\n                });\n                lightbox.refresh();\n            } else {\n                containerEl.innerHTML = \"\";\n                iziToast.error({\n                    title: \"Error\",\n                    message: `❌Sorry, there are no images matching your search query. Please, try again!`,\n                })\n\n            }\n        })\n        .finally(() => {\n            hideLoadingIndicator();\n            form.reset()\n        });\n}\nfunction serchPicture(picture) {\n    const urlParams = new URLSearchParams({\n        key: API_KEY,\n        q: picture,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true\n    });\n    return fetch(`${URL}?${urlParams}`).then((res) => {\n        if (!res.ok) {\n            throw new Error(res.statusText);\n        }\n        return res.json();\n    });\n}\nfunction createPictureMarkup({ webformatURL, likes, views, comments, downloads, largeImageURL }) {\n    return `\n        <a href=\"${largeImageURL}\" class= \"picture-link\">\n            <img src = \"${webformatURL}\">\n            <div class= \"picture-content\">\n                <div class= \"picture-text\">\n                    <span class= \"picture-title\">Likes</span>\n                    <span class= \"picture-sub-title\">${likes}</span>\n                </div>\n                <div class= \"picture-text\">\n                    <span class= \"picture-title\">Views</span>\n                    <span class= \"picture-sub-title\">${views}</span>\n                </div>\n                <div class= \"picture-text\">\n                    <span class= \"picture-title\">Comments</span>\n                    <span class= \"picture-sub-title\">${comments}</span>\n                </div>\n                <div class= \"picture-text\">\n                    <span class= \"picture-title\">Downloads</span>\n                    <span class= \"picture-sub-title\">${downloads}</span>\n                </div>\n            </div>\n        </a>`;\n}"],"names":["API_KEY","URL","formEl","containerEl","handleSearch","showLoadingIndicator","hideLoadingIndicator","loadingElement","event","form","picture","iziToast","serchPicture","data","hits","markup","hit","createPictureMarkup","SimpleLightbox","urlParams","res","webformatURL","likes","views","comments","downloads","largeImageURL"],"mappings":"6vBAOA,MAAMA,EAAU,qCACVC,EAAM,2BACNC,EAAS,SAAS,cAAc,cAAc,EAC9CC,EAAc,SAAS,cAAc,iBAAiB,EAC5DD,EAAO,iBAAiB,SAAUE,CAAY,EAC9C,SAASC,GAAuB,CAC5BF,EAAY,UAAY,4BAC5B,CACA,SAASG,GAAuB,CAC5B,MAAMC,EAAiBJ,EAAY,cAAc,SAAS,EACtDI,GACAA,EAAe,OAAM,CAE7B,CACA,SAASH,EAAaI,EAAO,CACzBA,EAAM,eAAc,EACpB,MAAMC,EAAOD,EAAM,cACbE,EAAUD,EAAK,SAAS,QAAQ,MAAM,OAC5C,GAAIC,IAAY,IAAMA,GAAW,KAAM,CACnCC,EAAS,MAAM,CACX,MAAO,QACP,QAAS,4EACrB,CAAS,EACDR,EAAY,UAAY,GACxB,MACH,CACDE,EAAsB,EACtBO,EAAaF,CAAO,EACf,KAAMG,GAAS,CACZ,GAAIA,EAAK,MAAQA,EAAK,KAAK,OAAS,EAAG,CACnC,MAAMC,EAAOD,EAAK,KAElB,IAAIE,EAAS,GACb,UAAWC,KAAOF,EACdC,GAAUE,EAAoBD,CAAG,EAErCb,EAAY,UAAYY,EACP,IAAIG,EAAe,oBAAqB,CACrD,aAAc,MACd,gBAAiB,SACjB,aAAc,GAClC,CAAiB,EACQ,QAAO,CAChC,MACgBf,EAAY,UAAY,GACxBQ,EAAS,MAAM,CACX,MAAO,QACP,QAAS,4EAC7B,CAAiB,CAGjB,CAAS,EACA,QAAQ,IAAM,CACXL,IACAG,EAAK,MAAO,CACxB,CAAS,CACT,CACA,SAASG,EAAaF,EAAS,CAC3B,MAAMS,EAAY,IAAI,gBAAgB,CAClC,IAAKnB,EACL,EAAGU,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EACD,OAAO,MAAM,GAAGT,KAAOkB,GAAW,EAAE,KAAMC,GAAQ,CAC9C,GAAI,CAACA,EAAI,GACL,MAAM,IAAI,MAAMA,EAAI,UAAU,EAElC,OAAOA,EAAI,MACnB,CAAK,CACL,CACA,SAASH,EAAoB,CAAE,aAAAI,EAAc,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,EAAW,cAAAC,GAAiB,CAC7F,MAAO;AAAA,mBACQA;AAAA,0BACOL;AAAA;AAAA;AAAA;AAAA,uDAI6BC;AAAA;AAAA;AAAA;AAAA,uDAIAC;AAAA;AAAA;AAAA;AAAA,uDAIAC;AAAA;AAAA;AAAA;AAAA,uDAIAC;AAAA;AAAA;AAAA,aAIvD"}